# Clippy configuration for masstree
# https://doc.rust-lang.org/clippy/configuration.html

# MSRV - must match Cargo.toml rust-version
msrv = "1.92.0"

# Cognitive complexity threshold (default is 25)
# Lower values encourage simpler functions
cognitive-complexity-threshold = 20

# Maximum number of lines in a function body (default is 100)
too-many-lines-threshold = 80

# Maximum number of arguments a function can have (default is 7)
too-many-arguments-threshold = 6

# Maximum number of struct fields (default is 8)
max-struct-bools = 3

# Type complexity threshold (default is 250)
type-complexity-threshold = 200

# Threshold for trivially_copy_pass_by_ref (default is platform-dependent)
# Key<'a> is 32 bytes - should be passed by reference
trivial-copy-size-limit = 16

# Threshold for pass_by_value_size_limit (default is 256)
pass-by-value-size-limit = 256

# Disallowed methods for production safety
disallowed-methods = [
    { path = "std::env::set_var", reason = "not thread-safe in multi-threaded programs" },
    { path = "std::env::remove_var", reason = "not thread-safe in multi-threaded programs" },
]
